function Cenny(e){this.user={};this.group={};this.deamon={};this.secure={};this.isOnline=navigator.onLine;this.groupObject={};this.groupObject.group="default";this.groupObject.key="default";this.userObject={};this.userObject.user="default";this.userObject.pass="default";this.url=document.URL+"cenny.php";if(e instanceof Object){if(e["group"]!==undefined&&e["group"]instanceof Array){this.groupObject.group=braid.replace(e["group"][0]," @w@");this.groupObject.key=braid.replace(e["group"][1]," @w@")}if(e["user"]!==undefined&&e["user"]instanceof Array){this.userObject.user=braid.replace(e["user"][0]," @w@");this.userObject.pass=braid.replace(e["user"][1]," @w@")}else{var t=localStorage["cenny"];if(t!==undefined){t=JSON.parse(t);if(t["user"]!==undefined){this.userObject.user=t["user"];this.userObject.pass=t["pass"]}}}if(e["url"]!==undefined){this.url=e["url"]}}else{console.log("mainObject should be an Object.")}this.plugin={};this.plugin.requests=0;this.plugin.requestTimes=[];this.plugin.currentRequestTime=0;this.plugin.cInfo=function(){var e=0;for(var t=0;t<n.plugin.requestTimes.length;t++){e+=n.plugin.requestTimes[t]}e=e/n.plugin.requestTimes.length;return{group:[n.groupObject.group,n.groupObject.key],user:n.user.info(),requests:n.plugin.requests,requestTime:e}};this.plugin.testConnectionSpeed=function(e,t){n.plugin.requestTimes=[];n.get(function(r){n.get(function(r){n.get(function(r){n.get(function(r){n.get(function(r){n.get(function(r){n.get(function(r){var i=n.plugin.cInfo();if(i["requestTime"]+300>=t&&i["requestTime"]-300<=t){e(true)}else if(i["requestTime"]<t){e(true)}else{e(false)}})})})})})})})};this.plugin.startRequestTimer=function(){n.plugin.requestTimer=setInterval(function(){n.plugin.currentRequestTime++},1)};this.plugin.stopRequestTimer=function(){clearInterval(n.plugin.requestTimer);n.plugin.requestTimes.push(n.plugin.currentRequestTime);n.plugin.currentRequestTime=0};this.aj=function(e,t,r,i){if(n.userObject.user.length>2&&n.userObject.user.length<25){if(/^\w+$/.test(n.userObject.user)){if(n.userObject.pass.length>3){var s;s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState==4&&s.status==200){var e=s.responseText;if(r!==undefined){r(JSON.parse(e));n.plugin.stopRequestTimer()}}};s.open("POST",n.url,true);s.setRequestHeader("Content-type","application/x-www-form-urlencoded");if(i!==undefined){var o=i[0];var u=i[1];s.send("action="+t+e+"&groupName="+n.groupObject.group+"&groupKey="+n.groupObject.key+"&userName="+o+"&userPass="+u)}else{s.send("action="+t+e+"&groupName="+n.groupObject.group+"&groupKey="+n.groupObject.key+"&userName="+n.userObject.user+"&userPass="+n.userObject.pass)}n.plugin.startRequestTimer();n.plugin.requests++}else{r({error:"pass length insufficient."})}}else{r({error:"username contains invalid characters."})}}else{r({error:"username length unsuitable."})}};this.get=function(e,t){if(t===undefined||t===""){n.aj("&getProperties=all","get",e)}else if(t instanceof Array){var r="";for(var i=0;i<t.length;i++){if(t[i+1]!==undefined){r+=t[i]+"@n@"}else{r+=t[i]}}n.aj("&getProperties="+r,"get",e)}else{n.aj("&otherUser="+braid.replace(t," @w@"),"getOther",e)}};this.set=function(e,t,r){if(e instanceof Object){if(t===undefined||t===""){n.aj("&data="+encodeURIComponent(JSON.stringify(e)),"set",r)}else if(typeof t==="function"){n.aj("&data="+encodeURIComponent(JSON.stringify(e)),"set",t)}else{n.aj("&otherUser="+braid.replace(t," @w@")+"&data="+encodeURIComponent(JSON.stringify(e)),"setOther",r)}}};this.update=function(e,t,r){if(t===undefined||t===""||typeof t==="function"){n.aj("&data="+encodeURIComponent(JSON.stringify(e)),"update",t)}else{n.aj("&otherUser="+braid.replace(t," @w@")+"&data="+encodeURIComponent(JSON.stringify(e)),"updateOther",r)}};this.user.remove=function(e){n.aj("","removeUser",e);n.userObject.user="default";n.userObject.pass="default"};this.user.remember=function(){var e=localStorage["cenny"];if(e===undefined){e={}}else{e=JSON.parse(e)}e["user"]=n.userObject.user;e["pass"]=n.userObject.pass;e=JSON.stringify(e);localStorage["cenny"]=e};this.user.permissions=function(e,t){var r=e.read;var i=e.write;var s=e.emailRead;var o="";var u="";var a="";if(r instanceof Array){for(var f=0;f<r.length;f++){if(r[f+1]!==undefined){o+=r[f]+"@n@"}else{o+=r[f]}}}else if(r===true){o="allowAll"}else if(r===false){o="blockAll"}else if(r===undefined){o="DoNotEdit"}else{o="blockAll"}if(i instanceof Array){for(var f=0;f<i.length;f++){if(i[f+1]!==undefined){u+=i[f]+"@n@"}else{u+=i[f]}}}else if(i===true){u="allowAll"}else if(i===false){u="blockAll"}else if(i===undefined){u="DoNotEdit"}else{u="blockAll"}if(s instanceof Array){for(var f=0;f<s.length;f++){if(s[f+1]!==undefined){a+=s[f]+"@n@"}else{a+=s[f]}}}else if(s===true){a="allowAll"}else if(s===false){a="blockAll"}else if(s===undefined){a="DoNotEdit"}else{a="allowAll"}var l={};for(key in e){if(key!=="read"&&key!=="write"&&key!=="emailRead"){var c="";if(e[key]instanceof Array){for(var f=0;f<e[key].length;f++){if(e[key][f+1]!==undefined){c+=e[key][f]+"@n@"}else{c+=e[key][f]}}}else if(e[key]===true){c="allowAll"}else if(e[key]===false){c="blockAll"}else{c="blockAll"}l[key]=c}}if(l==={}){l="DoNotEdit"}n.aj("&write="+u+"&read="+o+"&emailRead="+a+"&propertyObj="+JSON.stringify(l),"permissions",t)};this.user.forget=function(){var e=localStorage["cenny"];if(e===undefined){e={}}else{e=JSON.parse(e)}delete e["user"];delete e["pass"];e=JSON.stringify(e);localStorage["cenny"]=e};this.user.signin=function(e,t){if(e instanceof Object){if(e["user"]!==undefined&&e["user"]instanceof Array){n.userObject.user=braid.replace(e["user"][0]," @w@");n.userObject.pass=braid.replace(e["user"][1]," @w@");var r=braid.replace(e["user"][0]," @w@");var i=braid.replace(e["user"][1]," @w@");n.aj("","none",t,[r,i])}}else{console.log("mainObject should be an Object.")}};this.user.signout=function(){n.user.signin({user:["default","default"]})};this.user.create=function(e,t){if(e instanceof Object){if(e["user"]!==undefined&&e["user"]instanceof Array){var r=braid.replace(e["user"][0]," @w@");var i=braid.replace(e["user"][1]," @w@");n.aj("","none",t,[r,i])}}else{console.log("mainObject should be an Object.")}};this.user.info=function(){return[n.userObject.user,n.userObject.pass]};this.user.setEmail=function(e,t){var r=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;if(r.test(e)===true){n.aj("&data="+e,"setEmail",t)}else{if(t!==undefined){t("Email invalid.")}else{console.log("email invalid.")}}};this.user.getEmail=function(e,t){if(t===undefined){var t=n.user.info();t=t[0];t=braid.replace(t," @w@");n.aj("&otherUser="+t,"getEmailOther",e)}else{t=braid.replace(t," @w@");n.aj("&otherUser="+t,"getEmailOther",e)}};this.user.list=function(e){n.aj("","listUsers",function(t){t=t.split("@SEPCENNYUSER@");var n=[];for(var r=0;r<t.length-1;r++){n.push(t[r])}e(n)})};this.modified=function(e,t){setInterval(function(){n.get(function(r){var i={};if(t!==undefined){for(var s=0;s<t.length;s++){i[t[s]]=r[t[s]]}}else{i=r}var o=JSON.stringify(i);if(o!==n.deamon.lastData){e(i);n.deamon.lastData=JSON.stringify(i)}},t)},450)};var n=this;setInterval(function(){if(navigator.onLine){n.isOnline=true}else{n.isOnline=false}},300)}var braid={};braid.vnumber=.02;braid.version=function(){console.log(braid.vnumber)};braid.search=function(e,t,n,r){if(n!==undefined){if(n===false){t=t.toLowerCase();e=e.toLowerCase();if(r!==false){t=braid.replace(t,"aeiouyAEIOUY@wa@");e=braid.replace(e,"aeiouyAEIOUY@wa@")}}}var i=[];var t=t.split("");var e=e.split("");var s;var o=0;for(var u=0;u<t.length;u++){if(t[u]===e[0]){for(var a=0;a<e.length;a++){s=u+a;if(t[s]===e[a]){if(a===e.length-1){var f=s-e.length+1;i.push(f);o++}}}}}if(o===0){return false}else{return i}};braid.replace=function(e,t){var n=t;var t={};t.full=n;var r=false,i=false;t.groups=t.full.split("@n@");if(e instanceof Array){var s=[];r=true;for(var o=0;o<e.length;o++){var u=e[o];if(u===parseInt(u)){u=u.toString();i=true}for(var a=0;a<t.groups.length;a++){var f=t.groups[a];var l=braid.search("@wa@",f,true);if(l===false){var c=f.split("@w@");var h=c[0];var p=c[1];u=deiwo3replace(h,p,u)}else{var c=f.split("@wa@");var h=c[0];if(braid.search("!NUM!",h,true)!==false){h="12345678910"}if(braid.search("!VOWEL!",h,true)!==false){h="aeiouyAEIOUY"}if(braid.search("!SPECIAL!",h,true)!==false){h="~`@#$%^&*()_+-={}|[]:;<>"}h=h.split("");var p=c[1];for(var d=0;d<h.length;d++){u=deiwo3replace(h[d],p,u)}}}if(i===true){u=parseInt(u)}s.push(u);i=false}}else{if(e===parseInt(e)){e=e.toString();i=true}for(var a=0;a<t.groups.length;a++){var f=t.groups[a];var l=braid.search("@wa@",f,true);if(l===false){var c=f.split("@w@");var h=c[0];var p=c[1];e=deiwo3replace(h,p,e)}else{var c=f.split("@wa@");var h=c[0];if(braid.search("!NUM!",h,true)!==false){h="12345678910"}if(braid.search("!VOWEL!",h,true)!==false){h="aeiouyAEIOUY"}h=h.split("");var p=c[1];for(var d=0;d<h.length;d++){e=deiwo3replace(h[d],p,e)}}}if(i===true){e=parseInt(e)}}if(r===false){return e}else{return s}};var deiwo3replace=function(e,t,n){return n.replace(new RegExp(e,"g"),t)};braid.help=function(e){if(!e){console.log('Incorrect santex. Make sure to use the first parameter as a keyword. Example: braid.help("braid.replace"). \n|TIP: You can use this function in the console for quick help.')}else{if(braid.search("replace",e,false)!==false){console.log("*SANTEX FOR braid.replace()*\n\n"+"|RETURNS: braid.replace() will return the output after completing actions on the string.\n"+"|SANTEX: var VARIABLE = braid.replace('this is a test','this@w@that@n@is@w@was');\n"+"|OUTPUT: 'that was a test'\n"+"|NOTE: Using the parameter 'key' (second parameter), '@w@' is used as 'with', so 'apple@w@grape' means 'replace apple with grape'.\n"+"| '@n@ is used as 'next.' It is used to seperate instructions, as follows, 'apple@w@grape@n@cherry@w@bannana'.\n"+"| You can use '@wa@' instead of '@w@' to replace all instances of each character with another, like so, 'aeiouy@wa@#'\n"+"| If the string were 'abcdefghijklmnopqrstuvwxyz', this would output '#bcd#fgh#jklmn#pqrst#vwx#z'.\n"+"| *Input can be an Array, Integer, or String.\n")}else if(braid.search("search",e,false)!==false){console.log("*SANTEX FOR braid.search()*\n\n"+"|RETURNS: if braid.search() finds a match to query, it will return the positions of all matches in an array.\n"+"| If it does not find a match, it will return *false*.\n"+"|SANTEX: var VARIABLE = braid.search('query','complete string',false,false);\n"+"|OUTPUT: *false*\n"+"|NOTE: The third (3) parameter should be *true* or *false*, if *true* the search will be case sensitive, if *false* the search will not.\n| Setting this to false will also search by just consonants, instead of both consonants and vowels.\n"+"| The fourth (4) parameter can be set to *false* to disable the removal of vowels when searching with the third (3) parameter equal to *true*.\n")}else{console.log("~No help available on this topic. Please make sure to check your spelling.\nSANTEX: braid.help('braid.complementary'), etc.\n    ")}}};